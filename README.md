# Power Saver Script for Hyprland

## Content

- I. Гайд по установке на русском языке.
    1. Прицип работы. (**Обязательно** ознакомится перед установкой)
    2. Установка скрипта.
    3. Добавление кнопки со скриптом на Waybar.

---

- II. Guide: How to install script on english language.
    1. How It Works (Mandatory read before installation)
    2. Script installation.
    3. Adding a script button to Waybar.

---

# Гайд по установке на русском языке

## 1. Принцип работы
Скрипт использует 2 метода для оптимизации расхода заряда вашего устройства. Первое нужен пакет powerprofilesctl, который ограничивает частоту процессора и другие компоненты ПК. Второе - скрипт работает с конфигом hyprland, который надо будет правильно настроить, чтобы добиться максимального энергосбережения, и, в принципе, полноценной работы скрипта.

---

## 2. Установка скрипта

### Шаг 1
Откройте папку с конфигурацией hyprland. Обычно располагается по пути `.config/hypr/`.
### Шаг 2 
Создайте файл `monitors.conf` (Здесь будут расположены настройки вашего основного монитора).
### Шаг 3
Далее откройте ваш файл `hyprland.conf`, найдите строчку `monitor = ...` скопируйте ее полностью и перенесите в `monitors.conf`.
В конце файла `hyprland.conf` добавте такую строчку: `source = ~/.config/hypr/monitors.conf`.

## Шаг 4
Установите необходимый пакеты для работы скрипта.
```
sudo pacman -S power-profiles-daemon
```
```
sudo pacman -S cmake
```
Склонируйте репозиторий куда вам удобно.
```
git clone https://github.com/SarumoBNK/power-saver-for-hyprland.git
```

Далее перейдите в терминале в папку проекта и выполните команды:
```
mkdir build
cd build
cmake ..
make
```

В папке `build/bin` появится исполняемый файл - это и есть скрипт.
Выполните из папке `build` команду:
```
./powerSaver --help
```

Вы увидите перечень комманд.

Теперь о настройке. В зависимости от разрешения вашего монитора выберите разрешение на 1 или 2 пункта ниже а герцовку поставьте на 60 герц.
Сейчас покажу пример команды чтобы было понятнее.

```
./powerSaver --path <Здесь пишите ваш путь до monitors.conf, то есть ./PATH/monitors.conf> --scaling <Удобный для вас скейлинг> -pd power-saver --size_frame 1920x1200@60 # В последней команде я указал разрешение меньше максимально возможного имея 2880x1800@90 я выбираю на ступень ниже: 1920x1200@60
```
## ВАЖНО
Путь до файла `monitors.conf` должен быть **АБСОЛЮТНЫМ** тоесть *НЕ* `./home/user/.config/hypr/monitors.conf`, а `/home/user/.config/hypr/monitors.conf`

## Добавление скрипта на Waybar
Скоро...